<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>✍️ ESLint x Prettier | Linter上手完全指南</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="你真了解 Liner 么？本教程将从历史演进以及上手实战来聊聊 Linter 的世界。">
    <meta name="keywords" content="eslint, prettier, linter, lint-staged, 前端, 代码风格, 上手指南">
    <meta name="author" content="海怪">
    
    <link rel="preload" href="/linter-tutorial/assets/css/0.styles.eda2f21c.css" as="style"><link rel="preload" href="/linter-tutorial/assets/js/app.ac6c6909.js" as="script"><link rel="preload" href="/linter-tutorial/assets/js/2.974bf6c6.js" as="script"><link rel="preload" href="/linter-tutorial/assets/js/11.99c5bc0e.js" as="script"><link rel="prefetch" href="/linter-tutorial/assets/js/10.aaf88866.js"><link rel="prefetch" href="/linter-tutorial/assets/js/12.efdf2c98.js"><link rel="prefetch" href="/linter-tutorial/assets/js/13.00e46a10.js"><link rel="prefetch" href="/linter-tutorial/assets/js/14.8c77d44d.js"><link rel="prefetch" href="/linter-tutorial/assets/js/15.af4d4b75.js"><link rel="prefetch" href="/linter-tutorial/assets/js/16.085aaff7.js"><link rel="prefetch" href="/linter-tutorial/assets/js/17.2c5be358.js"><link rel="prefetch" href="/linter-tutorial/assets/js/3.1da1e377.js"><link rel="prefetch" href="/linter-tutorial/assets/js/4.892d9ecf.js"><link rel="prefetch" href="/linter-tutorial/assets/js/5.d65f5d4b.js"><link rel="prefetch" href="/linter-tutorial/assets/js/6.ae0e0b10.js"><link rel="prefetch" href="/linter-tutorial/assets/js/7.80ae98bf.js"><link rel="prefetch" href="/linter-tutorial/assets/js/8.afc263d3.js"><link rel="prefetch" href="/linter-tutorial/assets/js/9.d489ecd0.js">
    <link rel="stylesheet" href="/linter-tutorial/assets/css/0.styles.eda2f21c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/linter-tutorial/" class="home-link router-link-active"><img src="/linter-tutorial/images/logo.png" alt="Linter上手完全指南" class="logo"> <span class="site-name can-hide">Linter上手完全指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/haixiangyan/linter-tutorial/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/haixiangyan/linter-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/haixiangyan/linter-tutorial/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/haixiangyan/linter-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linter-tutorial/" aria-current="page" class="sidebar-link">🤫 前言</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>理论</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linter-tutorial/theory/history.html" class="sidebar-link">📖 Linter的故事</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linter-tutorial/practice/hello_eslint.html" class="sidebar-link">👋 Hello ESLint</a></li><li><a href="/linter-tutorial/practice/eslint_prettier.html" aria-current="page" class="active sidebar-link">✍️ ESLint x Prettier</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linter-tutorial/practice/eslint_prettier.html#ide-集成" class="sidebar-link">IDE 集成</a></li><li class="sidebar-sub-header"><a href="/linter-tutorial/practice/eslint_prettier.html#eslint-集成" class="sidebar-link">ESLint 集成</a></li><li class="sidebar-sub-header"><a href="/linter-tutorial/practice/eslint_prettier.html#解决规则冲突" class="sidebar-link">解决规则冲突</a></li></ul></li><li><a href="/linter-tutorial/practice/eslint_typescript.html" class="sidebar-link">👮‍♂️ ESLint x TypeScript</a></li><li><a href="/linter-tutorial/practice/eslint_plugins.html" class="sidebar-link">🔌 ESLint x Plugins</a></li><li><a href="/linter-tutorial/practice/stylelint.html" class="sidebar-link">🧜‍♀️ StyleLint</a></li><li><a href="/linter-tutorial/practice/husky_lint-staged.html" class="sidebar-link">🐶 Husky x LintStaged</a></li><li><a href="/linter-tutorial/practice/lint-staged_tsc.html" class="sidebar-link">🤥 LintStaged x TSC</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>最后</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linter-tutorial/final/project.html" class="sidebar-link">💼 Github 项目</a></li><li><a href="/linter-tutorial/final/last.html" class="sidebar-link">🙌 结语</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="✍️-eslint-x-prettier"><a href="#✍️-eslint-x-prettier" class="header-anchor">#</a> ✍️ ESLint x Prettier</h1> <p>下面我们来配置 Prettier，它的作用就是格式化代码。先安装依赖：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i -D prettier <span class="token comment"># 安装依赖</span>
</code></pre></div><p>然后添加 Prettier 的配置文件 <code>.prettierrc.json</code>：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p><strong>对的，你没看错 Prettier 的基础配置就是 <code>{}</code>，啥都没有。</strong></p> <p>我们日常用的框架和库都可以分为两大类。<strong>第一类叫你是智障（opinionated）</strong>。框架把所有的设计、规范、工具都调到最好，开发者只需要无脑用就可以了，比如 Vue 和 Angular。<strong>第二类叫你是装机猿（unopinionated）</strong>。框架只管自己单一功能，别的需要开发者自己组装，比如 React。</p> <p>这里的 Prettier 的哲学属于 <strong>opinionated</strong>，这个工具研发出来的本身就是为了树立一个最标准的代码风格规范，停止开发者之间的圣战。所以建议如果不是有非常强烈的个人需求，不要在 <code>.prettierrc.json</code> 加太多的配置，会有种画蛇添足的感觉。</p> <p>一行命令下去：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>npx prettier --write <span class="token builtin class-name">.</span> <span class="token comment"># 别把这个 . 点漏了</span>
</code></pre></div><p>就可以看到格式化后的漂亮代码了：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 需要格式化的代码</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> hi <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">const</span> aa <span class="token operator">=</span> <span class="token number">333</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hi<span class="token punctuation">,</span> aa<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果只想查格式有问题，但是不想格式化代码，可以使用下面命令：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>npx prettier --check <span class="token builtin class-name">.</span>
</code></pre></div><h2 id="ide-集成"><a href="#ide-集成" class="header-anchor">#</a> IDE 集成</h2> <p>每次都用命令行来修复文件肯定不现实。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>npx prettier --write messyJS.js
</code></pre></div><p>幸好如今 IDE 和一些代码编辑器已经对 Prettier 做了非常好的集成，比如 WebStorm 里：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/200e6acb3fce4efba1d482885ac35b3e~tplv-k3u1fbpfcp-zoom-1.image" alt="WebStorm 配置"></p> <p>我习惯是不打开【保存时自动格式化】，有点耗内存。另一个选项则是 IDE 会使用 Prettier 的配置来格式化，如果不开启这个选项，那么 IDE 会按自己的风格来格式化，这里推荐开启这个选项。</p> <p>说到这里，相信有的同学已经按耐不住了：IDE 格式化是按 Prettier 配置来了，但是我以前项目经常见的 <code>ESLint: Fix xxx</code> 提示咋不出现呢？</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65b2b5bf989848dc84d355dfc175e126~tplv-k3u1fbpfcp-zoom-1.image" alt="WebStorm 的提示"></p> <p>这个提示是 ESLint 报的提示，下面我们来讲怎么配置 ESLint x Prettier。</p> <h2 id="eslint-集成"><a href="#eslint-集成" class="header-anchor">#</a> ESLint 集成</h2> <p>先安装 <code>eslint-plugin-prettier</code> 插件：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i -D eslint-plugin-prettier
</code></pre></div><p>在 <code>.eslintrc.js</code> 添加 Prettier 插件：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 支持浏览器环境</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 CommonJS</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 ES 的代码，使用 ECMAScript 2021 自动设置 ecmaVersion parser 为 12，</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 使用 Prettier 的代码风格规则</span>
    <span class="token comment">// 并用 Prettier 来自动修复代码</span>
    <span class="token string">&quot;prettier&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 违反 Prettier 的规则就报 error</span>
    <span class="token string-property property">&quot;prettier/prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>plugins</code> 里不仅会加载 Prettier 的代码风格规则，还会用 Prettier 来自动修复违反代码风格规则的代码。</p> <p><code>rules</code> 里的配置表示违反 Prettier 规则会报 Error 错误，如果你改成 &quot;warn&quot; 就展示为 warning 样式。</p> <p>加完配置后就会发现代码已经有对应的自动修复提示了：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f657868ee12f455592c8f187add22368~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p> <p><strong>在 ESLint 集成了 Prettier 后，在在命令行里执行 <code>eslint xxx.js --fix</code>，
那么 ESLint 就会调用 Prettier 的格式化功能来帮你格式化代码了。</strong></p> <h2 id="解决规则冲突"><a href="#解决规则冲突" class="header-anchor">#</a> 解决规则冲突</h2> <p>既然 Prettier 有自己代码风格，ESLint 里也有代码风格，难免会出现规则之间的冲突，比如 <a href="https://github.com/prettier/eslint-plugin-prettier/issues/65" title="规则冲突 Issue" target="_blank" rel="noopener noreferrer">在这个 Issue 里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 就说了在同时自动修复 <code>arrow-body-style</code> 和 <code>prefer-arrow-callback</code> 规则时，自动修复后的代码会少了个括号：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 原来的代码</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> isTrue <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 格式化后的代码少了一个括号</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    isTrue <span class="token operator">&amp;&amp;</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 这里少了一个右圆括号</span>
<span class="token punctuation">}</span>
</code></pre></div><p>解决冲突的最好方法就是把对应的 rule 给禁用了：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;arrow-body-style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prefer-arrow-callback&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为了解决ESLint配置可能与Prettier产生的冲突，利用<a href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noopener noreferrer">eslint-config-prettier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来关闭相关的配置。</p> <blockquote><p>Turns off all rules that are unnecessary or might conflict with Prettier.
This lets you use your favorite shareable config without letting its stylistic choices get in the way when using Prettier.
Note that this config only turns rules off, so it only makes sense using it together with some other config.</p></blockquote> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i -D eslint-config-prettier
</code></pre></div><p><code>eslint-plugin-prettier</code> 库还提供了一种缩写版的配置：直接在 <code>.eslintrc.js</code> 中写一行配置即可完成 ESLint x Prettier 的所有配置。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 支持浏览器环境</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 CommonJS</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 ES 的代码，使用 ECMAScript 2021 自动设置 ecmaVersion parser 为 12，</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:prettier/recommended&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>它等同于：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 支持浏览器环境</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 CommonJS</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 识别 ES 的代码，使用 ECMAScript 2021 自动设置 ecmaVersion parser 为 12，</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 继承 Prettier 格式化规则</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;prettier&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 使用 Prettier 格式化</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;prettier&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 解决规则冲突</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;prettier/prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;arrow-body-style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;prefer-arrow-callback&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>至于为啥规则集合需要去单独设置 <code>arrow-body-style</code> 和 <code>prefer-arrow-callback</code>, 参考这个 <a href="https://github.com/prettier/eslint-plugin-prettier/issues/65" target="_blank" rel="noopener noreferrer">issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>上一篇里说到看到 <code>eslint-config-xxx</code> 就相当于看到了 xxx 的规则集。这里也同样适用：<strong><code>eslint-config-prettier</code> 可以看成 Prettier 的代码风格规则集。只不过这里的作用是禁用掉一些和 Prettier 有冲突的规则。</strong></p> <p>现在我们不妨脑洞大开一下：那既然后缀的 <code>xxx</code> 可以改，那前缀的 <code>eslint</code> 是否也可以改呢，是否也有一些 <code>xxx-config-prettier</code> 呢？<strong>猜得不错，除了它，还有俩：</strong></p> <ul><li><a href="https://github.com/prettier/tslint-config-prettier" target="_blank" rel="noopener noreferrer">tslint-config-prettier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 禁用和 Prettier 冲突的 TSLint 规则</li> <li><a href="https://github.com/prettier/stylelint-config-prettier" target="_blank" rel="noopener noreferrer">stylelint-config-prettier<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 禁用和 Prettier 冲突的 StyleLint 规则</li></ul> <p>不过呢，也仅有这两个库了。说明我们的 Prettier 之旅还没结束呢！接下来我们顺着 ESLint x TypeScript 来继续下一篇文章吧~</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/26/2022, 9:32:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/linter-tutorial/practice/hello_eslint.html" class="prev">
        👋 Hello ESLint
      </a></span> <span class="next"><a href="/linter-tutorial/practice/eslint_typescript.html">
        👮‍♂️ ESLint x TypeScript
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/linter-tutorial/assets/js/app.ac6c6909.js" defer></script><script src="/linter-tutorial/assets/js/2.974bf6c6.js" defer></script><script src="/linter-tutorial/assets/js/11.99c5bc0e.js" defer></script>
  </body>
</html>
